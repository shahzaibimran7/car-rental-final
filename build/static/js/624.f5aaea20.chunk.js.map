{"version":3,"file":"static/js/624.f5aaea20.chunk.js","mappings":"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","sources":["Pages/BookingsDashboard.jsx","services/bookings-api-services.js","services/car-api-services.js"],"sourcesContent":["import React from \"react\";\r\nimport { GetBookings, UpdateBooking } from \"../services/bookings-api-services\";\r\nimport { GetCars } from \"../services/car-api-services\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nconst BookingsDashboard = () => {\r\n  const [bookings, setBookings] = useState([]);\r\n  const [cars, setCars] = useState([]);\r\n  useEffect(() => {\r\n    const getAllBookings = async () => {\r\n      const response = await GetBookings();\r\n      setBookings(response.data);\r\n    };\r\n    getAllBookings();\r\n  }, []);\r\n  useEffect(() => {\r\n    const getAllCars = async () => {\r\n      const response = await GetCars();\r\n      setCars(response.data);\r\n    };\r\n    getAllCars();\r\n  }, []);\r\n  const extractDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    const formattedDate = date.toLocaleDateString(\"en-UK\");\r\n    return formattedDate;\r\n  };\r\n\r\n  const activeBookings = bookings?.filter(\r\n    (booking) => booking.status === \"pending\" || booking.status === \"PENDING\"\r\n  );\r\n  const carsData = cars?.map((car) => ({ id: car.id, name: car.name }));\r\n\r\n  return (\r\n    <div className=\"table-container\">\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Model</th>\r\n            <th>Client Name</th>\r\n            <th>Client Email</th>\r\n            <th>Start Date</th>\r\n            <th>End Date</th>\r\n            <th>Client Contact Number</th>\r\n            <th>Client Address</th>\r\n            <th>Drop-off Location</th>\r\n            <th>License Number</th>\r\n            <th>End Booking</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {activeBookings?.map((booking) => (\r\n            <tr>\r\n              <td>\r\n                {\" \"}\r\n                {carsData?.find((car) => car.id === booking.carId)?.name ||\r\n                  \"N/A\"}\r\n              </td>\r\n              <td>{booking.firstName + \" \" + booking.lastName}</td>\r\n              <td>{booking.email}</td>\r\n              <td>{extractDate(booking.pickupDate)}</td>\r\n              <td>{extractDate(booking.dropOffDate)}</td>\r\n              <td>{booking.phoneNumber}</td>\r\n              <td>{booking.address}</td>\r\n              <td>{booking.location}</td>\r\n              <td>{booking.licenseNumber}</td>\r\n              <td>\r\n                <button\r\n                  title=\"End Booking\"\r\n                  onClick={async () => {\r\n                    await UpdateBooking(booking.id);\r\n                    const response = await GetBookings();\r\n                    const activeBookings = response.data.filter(\r\n                      (booking) =>\r\n                        booking.status === \"pending\" ||\r\n                        booking.status === \"PENDING\"\r\n                    );\r\n                    setBookings(activeBookings);\r\n                  }}\r\n                >\r\n                  <i\r\n                    className=\"fa fa-archive\"\r\n                    aria-hidden=\"true\"\r\n                    style={{\r\n                      color: \"red\",\r\n                      cursor: \"pointer\",\r\n                      fontSize: \"12px\",\r\n                    }}\r\n                  />\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookingsDashboard;\r\n","import axios from \"axios\";\r\nconst instance = axios.create({\r\n  baseURL: \"https://app.fiftyfivecarrental.com/booking/\",\r\n});\r\nconst CreateBooking = (booking) => {\r\n  return instance.post(\"createBooking\", booking);\r\n};\r\nconst GetBookings = () => {\r\n  return instance.get(\"getAllBooking\");\r\n};\r\nconst UpdateBooking = (id) => {\r\n  return instance.post(`markBookingDone/${id}`);\r\n};\r\nexport { CreateBooking, GetBookings, UpdateBooking };\r\n","import axios from \"axios\";\r\nconst instance = axios.create({\r\n  baseURL: \"https://app.fiftyfivecarrental.com/car/\",\r\n});\r\nconst GetCars = () => {\r\n  return instance.get(`getAllCars`);\r\n};\r\n\r\nconst GetCarsPaginated = (query) => {\r\n  return instance.get(`getAllCars${query}`);\r\n};\r\nconst GetCarsByBrand = (brand) => {\r\n  return instance.get(`getCarsByBrand/${brand}`);\r\n};\r\nconst GetCar = (id) => {\r\n  return instance.get(`getAllDetails/${id}`);\r\n};\r\nconst CreateOneCar = (car) => {\r\n  return instance.post(\"createCar\", car);\r\n};\r\nconst UpdateCar = (id, car) => {\r\n  return instance.post(`updateCarById/${id}`, car);\r\n};\r\nconst DeleteCar = (id) => {\r\n  return instance.post(`deleteCarById/${id}`);\r\n};\r\nconst AdditionalImage = (image) => {\r\n  return axios.post(\r\n    `https://app.fiftyfivecarrental.com/carImage/uploadImage`,\r\n    image\r\n  );\r\n};\r\nexport {\r\n  GetCars,\r\n  GetCar,\r\n  GetCarsPaginated,\r\n  CreateOneCar,\r\n  UpdateCar,\r\n  DeleteCar,\r\n  AdditionalImage,\r\n  GetCarsByBrand,\r\n};\r\n"],"names":["_useState","useState","_useState2","_slicedToArray","bookings","setBookings","_useState3","_useState4","cars","setCars","useEffect","getAllBookings","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","GetBookings","sent","data","stop","apply","arguments","getAllCars","_ref2","_callee2","_context2","GetCars","extractDate","dateString","Date","toLocaleDateString","activeBookings","filter","booking","status","carsData","map","car","id","name","_jsx","className","children","_jsxs","_carsData$find","find","carId","firstName","lastName","email","pickupDate","dropOffDate","phoneNumber","address","location","licenseNumber","title","onClick","_callee3","_context3","UpdateBooking","style","color","cursor","fontSize","instance","axios","create","baseURL","CreateBooking","post","get","concat","GetCarsPaginated","query","GetCarsByBrand","brand","GetCar","CreateOneCar","DeleteCar","AdditionalImage","image"],"sourceRoot":""}