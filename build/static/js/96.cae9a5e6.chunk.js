"use strict";(self.webpackChunkcar_rental=self.webpackChunkcar_rental||[]).push([[96],{7096:function(e,a,n){n.r(a);var s=n(4165),i=n(5861),r=n(9439),t=n(2791),o=n(96),l=n(1243),c=n(4050),d=n(184);a.default=function(e){var a=e.cars,n=(0,t.useState)(!1),u=(0,r.Z)(n,2),h=u[0],m=u[1],f=(0,t.useState)(""),p=(0,r.Z)(f,2),x=p[0],j=p[1],v=(0,t.useState)(""),b=(0,r.Z)(v,2),g=b[0],N=b[1],y=(0,t.useState)(""),_=(0,r.Z)(y,2),k=_[0],C=_[1],D=(0,t.useState)(""),S=(0,r.Z)(D,2),Z=S[0],q=S[1],T=(0,t.useState)(""),w=(0,r.Z)(T,2),E=w[0],A=w[1],P=(0,t.useState)(""),L=(0,r.Z)(P,2),F=L[0],I=L[1],O=(0,t.useState)(""),R=(0,r.Z)(O,2),B=R[0],U=R[1],z=(0,t.useState)(""),M=(0,r.Z)(z,2),Y=M[0],H=M[1],K=(0,t.useState)(""),V=(0,r.Z)(K,2),W=V[0],X=V[1],J=(0,t.useState)(""),G=(0,r.Z)(J,2),Q=G[0],$=G[1],ee=(0,t.useState)(""),ae=(0,r.Z)(ee,2),ne=ae[0],se=ae[1],ie=(0,t.useState)(""),re=(0,r.Z)(ie,2),te=re[0],oe=re[1],le=(0,t.useState)(""),ce=(0,r.Z)(le,2),de=ce[0],ue=ce[1],he=(0,t.useState)(""),me=(0,r.Z)(he,2),fe=me[0],pe=me[1],xe=(0,t.useState)(""),je=(0,r.Z)(xe,2),ve=je[0],be=je[1],ge=(0,t.useState)(""),Ne=(0,r.Z)(ge,2),ye=Ne[0],_e=Ne[1],ke=(0,t.useState)(""),Ce=(0,r.Z)(ke,2),De=Ce[0],Se=Ce[1],Ze=function(e){e.preventDefault();var a=document.querySelector(".error-message");""===k||""===Z||""===E||""===x?a.style.display="flex":(m(!h),document.querySelector(".booking-modal").scroll(0,0),a.style.display="none")};(0,t.useEffect)((function(){document.body.style.overflow=!0===h?"hidden":"auto"}),[h]),(0,t.useEffect)((function(){!function(){if(Z&&E){var e=new Date(Z),a=new Date(E);console.log(e,a),U((a-e)/864e5)}else U("")}()}),[Z,E]);var qe=null===a||void 0===a?void 0:a.map((function(e){return e.name}));(0,t.useEffect)((function(){var e,n,s=null===a||void 0===a?void 0:a.filter((function(e){return e.name===x}));I(null===(e=s[0])||void 0===e?void 0:e.image),Se(null===(n=s[0])||void 0===n?void 0:n.id)}),[x]);var Te={firstName:Y,lastName:W,age:ne,status:"pending",phoneNumber:Q,email:te,address:de,city:fe,zipCode:ve,carId:De,licenseNumber:ye,pickupDate:Z,dropOffDate:E,location:k},we=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(a){var n,i,r,t,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),m(!h),console.log(Te),document.querySelector(".booking-done").style.display="flex",e.next=7,(0,o.bk)(Te);case 7:if(201!==(n=e.sent).status){e.next=18;break}return i=n.data,e.next=12,l.Z.get("https://app.fiftyfivecarrental.com/car/getCarsById/".concat(i.carId));case 12:r=e.sent,t="Booking ID: ".concat(i.id," \n First Name: ").concat(i.firstName," \n Last Name: ").concat(i.lastName," \n Age: ").concat(i.age," \n Phone Number: ").concat(i.phoneNumber," \n Email: ").concat(i.email," \n Address: ").concat(i.address," \n City: ").concat(i.city," \n Zip Code: ").concat(i.zipCode," \n Car Name: ").concat(r.data.name," \n Pick-Up Date: ").concat(i.pickupDate," \n Drop-Off Date: ").concat(i.dropOffDate," \n Location: ").concat(i.location," \n License Number: ").concat(i.licenseNumber," \n Total Price: ").concat(B*r.data.price),console.log(t),c.ZP.init("U0B35fYtpoC6loUyp"),d={from_name:"".concat(i.firstName," ").concat(i.lastName),from_email:i.email,message:t},c.ZP.send("service_y120tlm","template_3vb9c1z",d).then((function(e){})).catch((function(e){console.error("Error sending email:",e),alert("Failed to send email. Please try again later.")}));case 18:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("section",{id:"booking-section",className:"book-section",children:[(0,d.jsx)("div",{onClick:Ze,className:"modal-overlay ".concat(h?"active-modal":"")}),(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("div",{className:"book-content",children:(0,d.jsxs)("div",{className:"book-content__box",children:[(0,d.jsx)("h2",{children:"Book a car"}),(0,d.jsxs)("p",{className:"error-message",children:["All fields required! ",(0,d.jsx)("i",{className:"fa-solid fa-xmark"})]}),(0,d.jsxs)("p",{className:"booking-done",children:["Thank You for your booking. We'll contact you shortly."," ",(0,d.jsx)("i",{onClick:function(){document.querySelector(".booking-done").style.display="none"},className:"fa-solid fa-xmark"})]}),(0,d.jsxs)("form",{className:"box-form",children:[(0,d.jsxs)("div",{className:"box-form__car-type",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fa-solid fa-car"})," \xa0 Select Your Car Type ",(0,d.jsx)("b",{children:"*"})]}),(0,d.jsxs)("select",{value:x,onChange:function(e){j(e.target.value)},children:[(0,d.jsx)("option",{children:"Select your car type"}),qe.map((function(e,a){return(0,d.jsx)("option",{value:e,children:e},a)}))]})]}),(0,d.jsxs)("div",{className:"box-form__car-type",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fa-solid fa-location-dot"})," \xa0 Pick-up"," ",(0,d.jsx)("b",{children:"*"})]}),(0,d.jsxs)("select",{value:g,onChange:function(e){N(e.target.value)},children:[(0,d.jsx)("option",{children:"Select Pickup Location"}),["Dubai","Abu Dhabi","Al Ain","Sharjah","Ras Al-Khaimah","Ajman","Fujairah"].map((function(e,a){return(0,d.jsx)("option",{value:e,children:e},a)}))]})]}),(0,d.jsxs)("div",{className:"box-form__car-type",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fa-solid fa-location-dot"})," \xa0 Drop-of"," ",(0,d.jsx)("b",{children:"*"})]}),(0,d.jsxs)("select",{value:k,onChange:function(e){C(e.target.value)},children:[(0,d.jsx)("option",{children:"Where are you going?"}),["Dubai","Abu Dhabi","Al Ain","Sharjah","Ras Al-Khaimah","Ajman","Fujairah"].map((function(e,a){return(0,d.jsx)("option",{value:e,children:e},a)}))]})]}),(0,d.jsxs)("div",{className:"box-form__car-time",children:[(0,d.jsxs)("label",{htmlFor:"picktime",children:[(0,d.jsx)("i",{className:"fa-regular fa-calendar-days "})," \xa0 Pick-up ",(0,d.jsx)("b",{children:"*"})]}),(0,d.jsx)("input",{id:"picktime",value:Z,onChange:function(e){q(e.target.value)},type:"date",min:function(){var e=new Date,a=e.getMonth()+1,n=e.getDate(),s=e.getFullYear();return a<10&&(a="0"+a.toString()),n<10&&(n="0"+n.toString()),s+"-"+a+"-"+n}()})]}),(0,d.jsxs)("div",{className:"box-form__car-time",children:[(0,d.jsxs)("label",{htmlFor:"droptime",children:[(0,d.jsx)("i",{className:"fa-regular fa-calendar-days "})," \xa0 Drop-of ",(0,d.jsx)("b",{children:"*"})]}),(0,d.jsx)("input",{id:"droptime",value:E,onChange:function(e){A(e.target.value)},type:"date",disabled:""===Z,min:Z})]}),(0,d.jsx)("button",{onClick:Ze,type:"submit",children:"Search"})]})]})})})]}),(0,d.jsxs)("div",{className:"booking-modal ".concat(h?"active-modal":""),children:[(0,d.jsxs)("div",{className:"booking-modal__title",children:[(0,d.jsx)("h2",{children:"Complete Reservation"}),(0,d.jsx)("i",{onClick:Ze,className:"fa-solid fa-xmark"})]}),(0,d.jsxs)("div",{className:"booking-modal__car-info",children:[(0,d.jsxs)("div",{className:"dates-div",children:[(0,d.jsxs)("div",{className:"booking-modal__car-info__dates",children:[(0,d.jsx)("h5",{children:"Location & Date"}),(0,d.jsxs)("span",{children:[(0,d.jsx)("i",{className:"fa-solid fa-calendar-days"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h6",{children:"Pick-Up Date"}),(0,d.jsx)("p",{children:Z})]})]})]}),(0,d.jsx)("div",{className:"booking-modal__car-info__dates",children:(0,d.jsxs)("span",{children:[(0,d.jsx)("i",{className:"fa-solid fa-calendar-days"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h6",{children:"Drop-Off Date"}),(0,d.jsx)("p",{children:E})]})]})}),(0,d.jsx)("div",{className:"booking-modal__car-info__dates",children:(0,d.jsxs)("span",{children:[(0,d.jsx)("i",{className:"fa-solid fa-location-dot"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h6",{children:"Pick-Up Location"}),(0,d.jsx)("p",{children:g})]})]})}),(0,d.jsx)("div",{className:"booking-modal__car-info__dates",children:(0,d.jsxs)("span",{children:[(0,d.jsx)("i",{className:"fa-solid fa-location-dot"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h6",{children:"Drop-Off Location"}),(0,d.jsx)("p",{children:k})]})]})})]}),(0,d.jsxs)("div",{className:"booking-modal__car-info__model",children:[(0,d.jsxs)("h5",{children:[(0,d.jsx)("span",{children:"Car -"})," ",x]}),F&&(0,d.jsx)("img",{src:F,alt:"car_img"})]})]}),(0,d.jsxs)("div",{className:"booking-modal__person-info",children:[(0,d.jsx)("h4",{children:"Personal Information"}),(0,d.jsxs)("form",{className:"info-form",children:[(0,d.jsxs)("div",{className:"info-form__2col",children:[(0,d.jsxs)("span",{children:[(0,d.jsxs)("label",{children:["First Name ",(0,d.jsx)("b",{children:"*"})]}),(0,d.jsx)("input",{value:Y,onChange:function(e){H(e.target.value)},type:"text",placeholder:"Enter your first name"}),(0,d.jsx)("p",{className:"error-modal",children:"This field is required."})]}),(0,d.jsxs)("span",{children:[(0,d.jsxs)("label",{children:["Last Name ",(0,d.jsx)("b",{children:"*"})]}),(0,d.jsx)("input",{value:W,onChange:function(e){X(e.target.value)},type:"text",placeholder:"Enter your last name"}),(0,d.jsx)("p",{className:"error-modal ",children:"This field is required."})]}),(0,d.jsxs)("span",{children:[(0,d.jsxs)("label",{children:["Phone Number ",(0,d.jsx)("b",{children:"*"})]}),(0,d.jsx)("input",{value:Q,onChange:function(e){$(e.target.value)},type:"tel",placeholder:"Enter your phone number"}),(0,d.jsx)("p",{className:"error-modal",children:"This field is required."})]}),(0,d.jsxs)("span",{children:[(0,d.jsxs)("label",{children:["Age ",(0,d.jsx)("b",{children:"*"})]}),(0,d.jsx)("input",{value:ne,onChange:function(e){se(e.target.value)},type:"number",placeholder:"18"}),(0,d.jsx)("p",{className:"error-modal ",children:"This field is required."})]})]}),(0,d.jsxs)("div",{className:"info-form__1col",children:[(0,d.jsxs)("span",{children:[(0,d.jsxs)("label",{children:["Email ",(0,d.jsx)("b",{children:"*"})]}),(0,d.jsx)("input",{value:te,onChange:function(e){oe(e.target.value)},type:"email",placeholder:"Enter your email address"}),(0,d.jsx)("p",{className:"error-modal",children:"This field is required."})]}),(0,d.jsxs)("span",{children:[(0,d.jsxs)("label",{children:["Address ",(0,d.jsx)("b",{children:"*"})]}),(0,d.jsx)("input",{value:de,onChange:function(e){ue(e.target.value)},type:"text",placeholder:"Enter your street address"}),(0,d.jsx)("p",{className:"error-modal ",children:"This field is required."})]})]}),(0,d.jsxs)("div",{className:"info-form__2col",children:[(0,d.jsxs)("span",{children:[(0,d.jsxs)("label",{children:["City ",(0,d.jsx)("b",{children:"*"})]}),(0,d.jsx)("input",{value:fe,onChange:function(e){pe(e.target.value)},type:"text",placeholder:"Enter your city"}),(0,d.jsx)("p",{className:"error-modal",children:"This field is required."})]}),(0,d.jsxs)("span",{children:[(0,d.jsxs)("label",{children:["Zip Code ",(0,d.jsx)("b",{children:"*"})]}),(0,d.jsx)("input",{value:ve,onChange:function(e){be(e.target.value)},type:"text",placeholder:"Enter your zip code"}),(0,d.jsx)("p",{className:"error-modal ",children:"This field is required."})]}),(0,d.jsxs)("span",{children:[(0,d.jsxs)("label",{children:["Licence Number ",(0,d.jsx)("b",{children:"*"})]}),(0,d.jsx)("input",{value:ye,onChange:function(e){_e(e.target.value)},type:"text",placeholder:"Enter your licence number"}),(0,d.jsx)("p",{className:"error-modal",children:"This field is required."})]})]}),(0,d.jsx)("div",{className:"reserve-button",children:(0,d.jsx)("button",{onClick:we,children:"Reserve Now"})})]})]})]})]})}},96:function(e,a,n){n.d(a,{aX:function(){return t},bk:function(){return i},hd:function(){return r}});var s=n(1243).Z.create({baseURL:"https://app.fiftyfivecarrental.com/booking/"}),i=function(e){return s.post("createBooking",e)},r=function(){return s.get("getAllBooking")},t=function(e){return s.post("markBookingDone/".concat(e))}},4050:function(e,a,n){n.d(a,{ZP:function(){return c}});var s={_origin:"https://api.emailjs.com"},i=function(e,a,n){if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!a)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0},r=n(3144),t=n(5671),o=(0,r.Z)((function e(a){(0,t.Z)(this,e),this.status=a.status,this.text=a.responseText})),l=function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(i,r){var t=new XMLHttpRequest;t.addEventListener("load",(function(e){var a=e.target,n=new o(a);200===n.status||"OK"===n.text?i(n):r(n)})),t.addEventListener("error",(function(e){var a=e.target;r(new o(a))})),t.open("POST",s._origin+e,!0),Object.keys(n).forEach((function(e){t.setRequestHeader(e,n[e])})),t.send(a)}))},c={init:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";s._userID=e,s._origin=a},send:function(e,a,n,r){var t=r||s._userID;i(t,e,a);var o={lib_version:"3.2.0",user_id:t,service_id:e,template_id:a,template_params:n};return l("/api/v1.0/email/send",JSON.stringify(o),{"Content-type":"application/json"})},sendForm:function(e,a,n,r){var t=r||s._userID,o=function(e){var a;if(!(a="string"===typeof e?document.querySelector(e):e)||"FORM"!==a.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return a}(n);i(t,e,a);var c=new FormData(o);return c.append("lib_version","3.2.0"),c.append("service_id",e),c.append("template_id",a),c.append("user_id",t),l("/api/v1.0/email/send-form",c)}}}}]);
//# sourceMappingURL=96.cae9a5e6.chunk.js.map